<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0">
<title>Japan Trek 2025 | TransPerfect</title>

<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700&display=swap" rel="stylesheet">

<link rel="stylesheet" href="https://unpkg.com/swiper@10/swiper-bundle.min.css">
<link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css">
<script src="https://unpkg.com/swiper@10/swiper-bundle.min.js"></script>
<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
<script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>

<style>
:root{
  --bg:#0e1a2b;--ink:#fff;--accent:#d30000;
  --beige:#e8dcc7;--muted:#a5b4d4;
  --shadow:0 12px 28px rgba(0,0,0,.15);
  --scroll-offset:72px;
}
*{box-sizing:border-box;margin:0;padding:0}
html{scroll-behavior:smooth}
body{font-family:Inter,sans-serif;background:var(--bg);color:var(--ink);-webkit-font-smoothing:antialiased}
a{color:inherit;text-decoration:none}
img{max-width:100%;display:block}
[id]{scroll-margin-top:calc(var(--scroll-offset))}
.wrap{max-width:1100px;margin-inline:auto}
.gap{height:32px}

/* progress */
#progress{position:fixed;top:0;left:0;height:4px;background:var(--accent);transform-origin:0 0;z-index:10000}

/* nav */
nav{position:fixed;inset:0 auto auto 0;width:100%;min-height:48px;padding:.35rem .75rem;background:rgba(0,0,0,.9);backdrop-filter:blur(6px);display:flex;align-items:center;gap:.6rem;z-index:9999;transition:.18s}
nav .brand img{width:150px;transition:.18s}
nav .links{flex:1;display:flex;justify-content:center;gap:clamp(.5rem,2vw,1rem);font-size:.85rem;letter-spacing:.1em}
nav .links a{font-weight:700;text-transform:uppercase;opacity:.9;position:relative}
nav .links a:hover{opacity:1}
nav .links a.is-active::after{content:"";position:absolute;left:0;right:0;bottom:-6px;height:2px;background:var(--accent);border-radius:2px}
nav.compact{min-height:40px;padding:.2rem .6rem}
nav.compact .brand img{width:120px}
#countBox{display:flex;gap:.25rem;font-variant-numeric:tabular-nums;font-weight:800}

/* hero */
header{margin-top:var(--scroll-offset);height:calc(100svh - var(--scroll-offset));position:relative}
.swiper,.swiper-slide img{width:100%;height:100%}.swiper-slide img{object-fit:cover}
.heroBtn{position:absolute;top:50%;transform:translateY(-50%);width:56px;height:56px;border-radius:50%;background:#fff;display:grid;place-content:center;box-shadow:var(--shadow);cursor:pointer}
.heroBtn svg{width:24px;height:24px;stroke:#000;stroke-width:2}
#prev{left:1rem}#next{right:1rem}
.heroOverlay{position:absolute;inset:0;display:grid;place-content:center;text-align:center;background:linear-gradient(180deg,rgba(0,0,0,.3),rgba(0,0,0,.55))}
.heroOverlay h1{font-size:clamp(2rem,5vw,3rem);margin-bottom:.6rem}
.btn{display:inline-block;padding:.9rem 2rem;border-radius:.6rem;font-weight:700;background:var(--ink);color:var(--bg);margin-top:1rem}

/* cards & sections */
.card{background:#12213a;border-radius:1.25rem;box-shadow:var(--shadow);padding:3.5rem 2.5rem}
.news{padding:2rem}
.news .badge{background:#1f3b64;color:#cfe0ff;font-size:.7rem;font-weight:800;padding:.35rem .6rem;border-radius:.4rem}
.news h2{margin:.4rem 0 1rem;font-size:clamp(1.4rem,3.4vw,2rem)}
.mission{padding:3rem;display:grid;gap:1.5rem}@media(min-width:900px){.mission{grid-template-columns:1fr 1fr}}
.mission .badge{background:var(--accent);padding:.35rem .6rem;border-radius:.4rem;font-size:.75rem}
.mission .btn-secondary{display:inline-block;margin-top:.8rem;border:2px solid var(--beige);color:var(--beige);padding:.7rem 1.4rem;border-radius:.55rem}
.eventWrap{padding:3rem}
.eventGrid{display:grid;gap:2rem}@media(min-width:900px){.eventGrid{grid-template-columns:1fr 1fr}}
.afterpartyWrap{padding:3rem;display:grid;gap:2rem}@media(min-width:900px){.afterpartyWrap{grid-template-columns:1fr 420px}}
.afterpartyWrap img{border-radius:1rem;box-shadow:var(--shadow)}
.donateWrap{padding:3rem;text-align:center;display:flex;flex-direction:column;align-items:center;gap:1rem}
.btnDonate{background:var(--accent);color:#fff;border:none;border-radius:.75rem;padding:1.05rem 2.4rem;font-weight:800;margin-top:.3rem}

/* form */
.formCard{background:#12213a;border-radius:1.25rem;box-shadow:var(--shadow);padding:4rem 3rem;text-align:center}
.formCard input,.formCard textarea{width:100%;padding:1rem;border:none;border-radius:.55rem;margin-top:.9rem;background:#172742;color:#fff}
.formCard button{background:var(--accent);color:#fff;border:none;padding:1rem 2rem;border-radius:.55rem;font-weight:700;margin-top:1.2rem;width:100%}

footer{padding:2rem 1rem;text-align:center;font-size:.85rem;color:var(--muted)}
</style>
</head>
<body>

<div id="progress"></div>

<!-- NAV -->
<nav>
  <div class="brand"><img src="Logos_TPT_JapanTrek_center_colour-03.png" alt="Japan Trek logo"></div>
  <div class="links">
    <a href="#news">News</a><a href="#mission">Mission</a><a href="#event">Event</a>
    <a href="#afterparty">After-Party</a><a href="#donate">Donate</a><a href="#register">Register</a>
  </div>
  <div id="countBox" aria-live="polite"></div>
</nav>

<!-- HERO -->
<header>
  <div class="swiper">
    <div class="swiper-wrapper">
      <div class="swiper-slide"><img src="20241109_c1_100.jpg" alt="Trailhead"></div>
      <div class="swiper-slide"><img src="20241109_c2_024.jpg" alt="Camaraderie"></div>
      <div class="swiper-slide"><img src="20241109_c2_031.jpg" alt="Shrine"></div>
      <div class="swiper-slide"><img src="20241109_c2_041.jpg" alt="Vista"></div>
      <div class="swiper-slide"><img src="20241109_c2_052.jpg" alt="Summit"></div>
    </div>
    <button id="prev" class="heroBtn"><svg viewBox="0 0 24 24" fill="none"><path d="M15 18l-6-6 6-6"/></svg></button>
    <button id="next" class="heroBtn"><svg viewBox="0 0 24 24" fill="none"><path d="M9 18l6-6-6-6"/></svg></button>
  </div>
  <div class="heroOverlay">
    <div>
      <h1>TransPerfect Charity Trek 2025</h1>
      <p>Hike, connect, give back.</p>
      <a href="#register" class="btn">Register soon</a>
    </div>
  </div>
</header>

<div class="gap"></div>

<!-- NEWS -->
<section id="news" class="wrap news card">
  <span class="badge">Trek News</span>
  <h2>TransPerfect Japan Charity Hike · Saturday 8 Nov</h2>
  <p>We’re excited to announce a charity hike on <strong>Saturday, November 8</strong>. Location reveal coming soon.</p>
  <!-- (… all the rest of your News copy unchanged …) -->
</section>

<div class="gap"></div>

<!-- MISSION -->
<section id="mission" class="wrap mission card">
  <!-- (mission copy unchanged) -->
</section>

<div class="gap"></div>

<!-- EVENT -->
<section id="event" class="wrap eventWrap card">
  <!-- (event copy unchanged) -->
</section>

<div class="gap"></div>

<!-- AFTER-PARTY -->
<section id="afterparty" class="wrap afterpartyWrap card">
  <!-- (after-party copy unchanged) -->
</section>

<div class="gap"></div>

<!-- DONATE (FIXED) -->
<section id="donate" class="wrap donateWrap card">
  <h2>Donation Only</h2>
  <p>Charity-only participation is welcome. Please donate what you can.</p>
  <a class="btnDonate" href="https://www.cancer.org/involved/fundraise/relay-for-life.html" target="_blank" rel="noopener">Donate now</a>
</section>

<div class="gap"></div>

<!-- REGISTER -->
<section id="register" class="wrap formCard">
  <!-- (register form unchanged) -->
</section>

<footer>© 2025 TransPerfect · Japan Trek · Built with ✨ & ☕</footer>

<!-- JS (unchanged functionality) -->
<script>
const prog=document.getElementById('progress'),nav=document.querySelector('nav'),
links=[...nav.querySelectorAll('.links a')],secs=links.map(a=>document.getElementById(a.hash.slice(1)));
function act(){const y=scrollY+nav.offsetHeight+10;let id=secs[0].id;secs.forEach(s=>{if(s.offsetTop<=y)id=s.id});links.forEach(a=>a.classList.toggle('is-active',a.hash.slice(1)===id))}
function scr(){prog.style.transform=`scaleX(${scrollY/(document.body.scrollHeight-innerHeight)})`;nav.classList.toggle('compact',scrollY>100);act()}
addEventListener('scroll',scr,{passive:true});scr();
new Swiper('.swiper',{loop:true,autoplay:{delay:5200,disableOnInteraction:false},speed:900,effect:'fade',navigation:{nextEl:'#next',prevEl:'#prev'},lazy:{loadPrevNext:true}});
const cnt=document.getElementById('countBox');cnt.innerHTML='<span id="d"></span>:<span id="h"></span>:<span id="m"></span>:<span id="s"></span>';
const end=new Date('2025-11-08T09:30:00+09:00'),pad=n=>String(n).padStart(2,'0');
setInterval(()=>{const t=end-Date.now();if(t<0){cnt.textContent='Event Day!';return}
const d=Math.floor(t/864e5),h=Math.floor(t/36e5)%24,m=Math.floor(t/6e4)%60,s=Math.floor(t/1e3)%60;
['d','h','m','s'].forEach((k,i)=>document.getElementById(k).textContent=pad([d,h,m,s][i]));},1000);
</script>
</body>
</html>
